---
import Layout from "../layouts/Layout.astro";

import { getLangFromUrl, useTranslations } from "../i18n/utils";
import { Image } from "astro:assets";
import myImage from "../../public/images/authors/ian.jpg";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

export async function getStaticPaths() {
  return ["en", "ru"].map((lang) => {
    return { params: { lang } };
  });
}
---

<Layout title={t("site.title")} description={t("site.description")} lang={lang}>
  <div class="flex items-center flex-col mb-8">
    <Image
      class="rounded-full w-32 h-auto block mb-4"
      src={myImage}
      widths={[240, 540, 720, myImage.width]}
      sizes={`(max-width: 360px) 240px, (max-width: 720px) 540px, (max-width: 1600px) 720px, ${myImage.width}px`}
      alt="A description of my image."
    />
    <h1 class="uppercase font-bold mb-8">{t("site.title")}</h1>
    <p class="uppercase font-bold text-xl sm:text-2xl">
      {t("home.p1")}
    </p>
  </div>
  <p class="text-2xl">
    {t("home.p2")}
  </p>
</Layout>
